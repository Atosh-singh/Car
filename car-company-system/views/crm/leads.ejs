<div class="space-y-6">

  <!-- Header -->
  <div class="flex justify-between items-center">
    <h2 class="text-2xl font-semibold text-gray-800">Leads</h2>

    <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow">
      + Add Lead
    </button>
  </div>


  <!-- Table Container -->
  <div class="bg-white rounded-xl shadow border border-gray-200 overflow-hidden">

    <div class="overflow-x-auto">

    <table class="min-w-full text-sm text-left border border-gray-200">

  <!-- Table Head -->
  <thead class="bg-gray-50">
    <tr class="border-b border-gray-200">

      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Name</th>
      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Phone</th>
      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Car</th>
      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Team</th>
      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Assigned To</th>
      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Status</th>
      <th class="px-6 py-3 font-medium text-gray-600 border-r border-gray-200">Created</th>
      <th class="px-6 py-3 font-medium text-gray-600 text-center">Actions</th>

    </tr>
  </thead>

  <!-- Table Body -->
 <tbody>

  <% if (Array.isArray(leads) && leads.length > 0) { %>

    <% leads.forEach(lead => { %>

      <tr class="border-b border-gray-200 hover:bg-gray-50 transition">

        <td class="px-6 py-4 border-r border-gray-200 font-medium text-gray-800">
          <%= lead.name %>
        </td>

        <td class="px-6 py-4 border-r border-gray-200 text-gray-600">
          <%= lead.phone %>
        </td>

        <td class="px-6 py-4 border-r border-gray-200 text-gray-600">
          <%= lead.car?.name || '-' %>
        </td>

        <td class="px-6 py-4 border-r border-gray-200 text-gray-600">
          <%= lead.team?.name || '-' %>
        </td>

        <td class="px-6 py-4 border-r border-gray-200 text-gray-600">
          <%= lead.assignedTo?.name || '-' %>
        </td>

        <td class="px-6 py-4 border-r border-gray-200">
          <%= lead.status %>
        </td>

        <td class="px-6 py-4 border-r border-gray-200 text-gray-600">
          <%= new Date(lead.createdAt).toLocaleDateString() %>
        </td>

        <td class="px-6 py-4 text-center space-x-3">
          <button class="text-blue-600 hover:underline">View</button>
          <button class="text-green-600 hover:underline">Edit</button>
          <button class="text-red-600 hover:underline">Delete</button>
        </td>

      </tr>

    <% }) %>

  <% } else { %>

    <tr>
      <td colspan="8" class="text-center py-6 text-gray-500">
        No leads found
      </td>
    </tr>

  <% } %>

</tbody>

</table>


<% if (pagination && pagination.totalPages > 1) { %>

<div class="flex justify-between items-center mt-6">

  <div class="text-sm text-gray-600">
    Page <%= pagination.page %> of <%= pagination.totalPages %>
  </div>

  <div class="flex gap-2">

    <% if (pagination.hasPrevPage) { %>
      <a href="?page=<%= pagination.page - 1 %>"
         class="px-3 py-1 bg-gray-200 rounded hover:bg-gray-300">
        Prev
      </a>
    <% } %>

    <% if (pagination.hasNextPage) { %>
      <a href="?page=<%= pagination.page + 1 %>"
         class="px-3 py-1 bg-gray-200 rounded hover:bg-gray-300">
        Next
      </a>
    <% } %>

  </div>

</div>

<% } %>
    </div>

  </div>

</div>